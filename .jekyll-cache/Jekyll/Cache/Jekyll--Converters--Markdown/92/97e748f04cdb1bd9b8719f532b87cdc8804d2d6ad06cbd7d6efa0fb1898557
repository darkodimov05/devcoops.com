I"<p>As a part of an Azure SQL Database administration series, this post will be a follow up from the last <a href="/how-to-recover-lost-admin-password-for-azure-sql-database-using-azure-cli/" target="_blank">one</a>, where i will write about renaming Azure SQL database, which is kind of a common scenario for those who work as a DevOps / SysOps cloud engineer.<br />
There are currently three ways to rename an Azure SQL database, as far as i know.</p>
<ol>
  <li>The first one is using TSQL, that requires <strong>SQL Server Management Studio</strong>. Run the following query:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ALTER DATABASE [dbname] MODIFY NAME = [newDBname]
</code></pre></div>    </div>
  </li>
  <li>Rename using the <strong>SQL Server Management Studio</strong> GUI. Just right click on the database name and click <em>Rename</em>.</li>
  <li>Rename using the Azure CLI, which will be explained in details in the next steps.</li>
</ol>

<h2 id="prerequisites">Prerequisites</h2>
<ul>
  <li>Azure account</li>
  <li>Azure SQL database</li>
</ul>

<h2 id="rename-an-azure-sql-database">Rename an Azure SQL database</h2>
<p><strong>Step 1</strong>. Open <em>Terminal</em> and login to the Azure Portal:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>az login
</code></pre></div></div>
<p>It will open a new window using the default browser where you will be prompted for email and password.</p>

<p><strong>Step 2</strong>. Rename the database using the following command:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>az sql db rename <span class="nt">--name</span> <span class="s2">"myfirstazuresqldb"</span> <span class="nt">--new-name</span> <span class="s2">"new-database-name"</span> <span class="nt">--resource-group</span> <span class="s2">"azure-sql-db-rg"</span> <span class="nt">--server</span> <span class="s2">"devcoopsdbserver"</span>
</code></pre></div></div>
<p>Parameters:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">--name</code>: database name before renaming.</li>
  <li><code class="language-plaintext highlighter-rouge">--new-name</code>: new database name.</li>
  <li><code class="language-plaintext highlighter-rouge">--resource-group</code>: name of the database resource group.</li>
  <li><code class="language-plaintext highlighter-rouge">--server</code>: database server name.</li>
</ul>

<p>Official documentation: <a href="https://docs.microsoft.com/en-us/cli/azure/sql/db?view=azure-cli-latest#az-sql-db-rename" target="_blank">az sql db rename</a>.</p>

<h2 id="conclusion">Conclusion</h2>
<p>My two cents on this is to write the command in a script that will accept input parameter, so you can call a bash script, for example:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./rename-az-sql-db.sh <span class="nt">--name</span> <span class="s2">"new-name-db"</span>
</code></pre></div></div>
:ET